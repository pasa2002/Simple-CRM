<!-- dialog-add-user.component.html -->
<div class="dialog-container">
  <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>

  <h1 mat-dialog-title>Add User</h1>

  <div mat-dialog-content [formGroup]="userForm">
    <mat-form-field class="mr-16" appearance="fill">
      <mat-label>First name</mat-label>
      <input matInput formControlName="firstName" placeholder="First Name" />
      <mat-error *ngIf="userForm.get('firstName').hasError('required')">First name is required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Last name</mat-label>
      <input matInput formControlName="lastName" placeholder="Last Name" />
      <mat-error *ngIf="userForm.get('lastName').hasError('required')">Last name is required</mat-error>
    </mat-form-field>

    <div class="line-1">
      <mat-form-field appearance="fill">
        <mat-label>Inves. Amount</mat-label>
        <input type="number" matInput formControlName="investedAmount" placeholder="Inves. Amount" />
        <mat-error *ngIf="userForm.get('investedAmount').hasError('required')">Invested amount is required</mat-error>
        <mat-error *ngIf="userForm.get('investedAmount').hasError('min')">Invested amount must be greater than or equal to 0</mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" placeholder="Email" />
        <mat-error *ngIf="userForm.get('email').hasError('required')">Email is required</mat-error>
        <mat-error *ngIf="userForm.get('email').hasError('email')">Enter a valid email address</mat-error>
      </mat-form-field>
    </div>

    <mat-form-field class="address" appearance="fill">
      <mat-label>Street + House Nr</mat-label>
      <input matInput formControlName="address" placeholder="Address" />
      <mat-error *ngIf="userForm.get('address').hasError('required')">Address is required</mat-error>
    </mat-form-field>

    <div>
      <mat-form-field class="mr-16" appearance="fill">
        <mat-label>Zip code</mat-label>
        <input type="number" matInput formControlName="zipCode" placeholder="Zip Code" />
        <mat-error *ngIf="userForm.get('zipCode').hasError('required')">Zip code is required</mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>City</mat-label>
        <input matInput formControlName="city" placeholder="City" />
        <mat-error *ngIf="userForm.get('city').hasError('required')">City is required</mat-error>
      </mat-form-field>
    </div>
  </div>

  <div mat-dialog-actions>
    <button mat-button (click)="dialogRef.close()">Cancel</button>
    <button mat-button (click)="saveUser()" [disabled]="userForm.invalid" [mat-dialog-close]="" cdkFocusInitial>Save</button>
  </div>
</div>
